#
# Quagga configuration for Cumulus spine switch at {{ ansible_hostname }}
# Autogenerated by Ansible
#
{% set intvars=interfaces[ansible_hostname] %}

service integrated-vtysh-config

{# OSPF area#}
#
# OSPF area
#
interface lo
  ip ospf area 0.0.0.0

{# OSPF interfaces #}
#
# OSPF interfaces
#
{% for iface in intvars.neighbors %}

interface {{ iface }}
  ip ospf network point-to-point
  ip ospf area 0.0.0.0

{% endfor %}

{# router ID #}
#
# router ID
#
router-id {{ intvars.loopback | ipaddr('address') }}

router ospf
 ospf router-id {{ intvars.loopback | ipaddr('address') }}
